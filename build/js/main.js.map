{"version":3,"file":"main.js","sources":["../../source/js/utils/load.js","../../source/js/utils/debounce.js","../../source/js/utils/declension.js","../../source/blocks/range/range.js","../../source/blocks/configuration/configuration.js","../../source/js/main.js"],"sourcesContent":["export default () => {\n\n  const XHR_TIMEOUT = 10000;\n  const HTTP_STATUS_OK = 200;\n  const MESSAGE_CONNECTION_ERROR = `Ошибка соединения`;\n\n  const load = function (onSuccess, onError, url, data) {\n    const httpMethod = data\n      ? `POST`\n      : `GET`;\n    const xhr = new XMLHttpRequest();\n\n    xhr.addEventListener(`load`, function () {\n      if (xhr.status === HTTP_STATUS_OK) {\n        onSuccess(JSON.parse(xhr.responseText));\n      } else {\n        onError(MESSAGE_CONNECTION_ERROR);\n        // onError(`Статус ответа: ${xhr.status} ${xhr.statusText}`);\n      }\n    });\n    xhr.addEventListener(`error`, function () {\n      onError(MESSAGE_CONNECTION_ERROR);\n    });\n    xhr.addEventListener(`timeout`, function () {\n      onError(`Запрос не успел выполниться за ${xhr.timeout} мс`);\n    });\n\n    xhr.open(httpMethod, url);\n    xhr.timeout = XHR_TIMEOUT;\n    xhr.send(data);\n  };\n\n  window.load = load;\n};\n","export default () => {\n  const DEBOUNCE_INTERVAL = 500;\n\n  const debounce = (callback, wait = DEBOUNCE_INTERVAL) => {\n    let timeout = null;\n    return (...args) => {\n      clearTimeout(timeout);\n      timeout = setTimeout(() => callback(...args), wait);\n    };\n  };\n\n  window.debounce = debounce;\n};\n","export default () => {\n  function declOfNum(n, titles) {\n    let index;\n\n    if (n % 10 === 1 && n % 100 !== 11) {\n      index = 0;\n    } else if (n % 10 >= 2 && n % 10 <= 4 && (n % 100 < 10 || n % 100 >= 20)) {\n      index = 1;\n    } else {\n      index = 2;\n    }\n    return titles[index];\n  }\n\n  window.declension = declOfNum;\n};\n","export default () => {\n  let root = document.documentElement;\n  const range = document.querySelector(`.range`);\n  const rangeInput = range.querySelector(`.range__input`);\n  const rangeMin = range.querySelector(`.range__min`);\n  const rangeMax = range.querySelector(`.range__max`);\n  const rangeOutputValue = range.querySelector(`.range__output-value`);\n  const rangeOutputUnit = range.querySelector(`.range__output-unit`);\n  const rangeOutputUnits = [`ядро`, `ядра`, `ядер`];\n  const rangeInputMax = rangeInput.max;\n  const rangeInputMin = rangeInput.min;\n\n  rangeMin.textContent = rangeInputMin;\n  rangeMax.textContent = rangeInputMax;\n\n  function fillRange(element) {\n    const fillPercent = ((element.value - rangeInputMin) / (rangeInputMax - rangeInputMin)) * 100;\n\n    root.style.setProperty(`--fill-percent`, `${fillPercent}%`);\n  }\n\n  function onRangeInputChange(evt) {\n    fillRange(evt.target);\n\n    rangeOutputUnit.textContent = window.declension(evt.target.value, rangeOutputUnits);\n    rangeOutputValue.textContent = evt.target.value;\n  }\n\n  fillRange(rangeInput);\n\n  rangeInput.addEventListener(`change`, onRangeInputChange);\n  rangeInput.addEventListener(`input`, onRangeInputChange);\n};\n","export default () => {\n  const DATA_URL = `https://api.jsonbin.io/b/5df3c10a2c714135cda0bf0f/1`;\n  const MESSAGE_NO_RESULT = `Нет результатов`;\n  const CORE_DECLENSIONS = [`ядро`, `ядра`, `ядер`];\n\n  const configuration = document.querySelector(`.configuration`);\n  const configurationForm = configuration.querySelector(`.configuration__form`);\n  const configurationGroup = configuration.querySelector(`.configuration__group`);\n  const configurationStatus = configurationGroup.querySelector(`.configuration__status`);\n  const configurationLoader = configurationGroup.querySelector(`.configuration__loader`);\n\n  const messageTemplate = document.querySelector(`#message`);\n  const serverCardTemplate = document.querySelector(`#server-card`);\n  const serverCardsFragment = document.createDocumentFragment();\n\n  let serverCard;\n  let message;\n\n  if (serverCardTemplate) {\n    serverCard = serverCardTemplate.content.querySelector(`.server`);\n  }\n\n  if (messageTemplate) {\n    message = messageTemplate.content.querySelector(`.message`);\n  }\n\n  window.load(onLoadSuccess, onLoadError, DATA_URL);\n\n  configurationForm.addEventListener(`change`, window.debounce(() => {\n    window.load(onLoadSuccess, onLoadError, DATA_URL);\n  }));\n\n  function onLoadSuccess(cards) {\n    configurationLoader.classList.add(`hidden`);\n    removeCards();\n    renderCards(filterCards(cards));\n  }\n\n  function onLoadError(statusText) {\n    createMessage(statusText);\n    configurationLoader.classList.add(`hidden`);\n  }\n\n  function createMessage(text) {\n    const currentMessage = configurationStatus.querySelector(`.message`);\n\n    if (currentMessage) {\n      currentMessage.textContent = text;\n    } else {\n      const newMessage = message.cloneNode(true);\n\n      newMessage.classList.add(`configuration__message`);\n      newMessage.textContent = text;\n      configurationStatus.appendChild(newMessage);\n    }\n  }\n\n  function removeMessage() {\n    const currentMessage = configurationStatus.querySelector(`.message`);\n\n    if (currentMessage) {\n      currentMessage.parentNode.removeChild(currentMessage);\n    }\n  }\n\n  function removeCards() {\n    configurationGroup.querySelectorAll(`.server`).forEach((card) => {\n      card.parentNode.removeChild(card);\n    });\n  }\n\n  function renderCards(cards) {\n    cards.forEach((card) => {\n      const newCard = fillCard(card);\n\n      serverCardsFragment.appendChild(newCard);\n    });\n\n    configurationGroup.appendChild(serverCardsFragment);\n  }\n\n  function calculateCores(count, amount) {\n    return parseInt(count, 10) * parseInt(amount, 10);\n  }\n\n  function fillCard(data) {\n    const server = serverCard.cloneNode(true);\n\n    const coresTotal = calculateCores(data.cpu.count, data.cpu.cores);\n\n    server.querySelector(`.server__name`).textContent = data.name;\n    server.querySelector(`.server__cpu-name`).textContent = data.cpu.name;\n    server.querySelector(`.server__cpu-count`).textContent = data.cpu.count >= 2 ? `${data.cpu.count} x` : null;\n    server.querySelector(`.server__cpu-cores`).textContent = `${coresTotal} ${window.declension(coresTotal, CORE_DECLENSIONS)}`;\n    server.querySelector(`.server__ram`).textContent = data.ram;\n    server.querySelector(`.server__disk-count`).textContent = data.disk.count >= 2 ? `${data.disk.count} x` : null;\n    server.querySelector(`.server__disk-value`).textContent = data.disk.value;\n    server.querySelector(`.server__disk-type`).textContent = data.disk.type;\n    server.querySelector(`.server__gpu`).textContent = data.gpu ? data.gpu : null;\n    server.querySelector(`.server__price-value`).textContent = (data.price / 100).toFixed(2);\n\n    return server;\n  }\n\n  const rangeCores = configurationForm.querySelector(`#core-amount`);\n  const checkboxGpu = configurationForm.querySelector(`#checkbox-gpu`);\n  const checkboxRaid = configurationForm.querySelector(`#checkbox-raid`);\n  const checkboxSsd = configurationForm.querySelector(`#checkbox-ssd`);\n\n  function filterCards(cards) {\n    const filteredCards = cards.filter((card) => {\n      return (\n        checkCores(card) &&\n        checkGpu(card) &&\n        checkRaid(card) &&\n        checkSsd(card)\n      );\n    });\n\n    if (!filteredCards.length) {\n      createMessage(MESSAGE_NO_RESULT);\n    } else {\n      removeMessage();\n    }\n\n    return filteredCards;\n  }\n\n  function checkCores(card) {\n    const rangeCoresValue = parseInt(rangeCores.value, 10);\n    const cardCoresTotal = calculateCores(card.cpu.cores, card.cpu.count);\n\n    return rangeCores.value ? rangeCoresValue === cardCoresTotal : true;\n  }\n\n  function checkGpu(card) {\n    return checkboxGpu.checked ? card.hasOwnProperty(`gpu`) : true;\n  }\n\n  function checkRaid(card) {\n    return checkboxRaid.checked ? card.disk.count >= 2 : true;\n  }\n\n  function checkSsd(card) {\n    return checkboxSsd.checked ? card.disk.type === `SSD` : true;\n  }\n};\n","// region Blocks\nimport load from './utils/load';\nimport debounce from './utils/debounce';\nimport declension from './utils/declension';\nimport range from '../blocks/range/range';\nimport configuration from '../blocks/configuration/configuration';\n\n// endregion\n\nif (window.NodeList && !NodeList.prototype.forEach) {\n  NodeList.prototype.forEach = Array.prototype.forEach;\n}\n\ndocument.addEventListener(`DOMContentLoaded`, () => {\n  load();\n  debounce();\n  declension();\n  range();\n  configuration();\n});\n"],"names":["XHR_TIMEOUT","HTTP_STATUS_OK","MESSAGE_CONNECTION_ERROR","load","onSuccess","onError","url","data","httpMethod","xhr","XMLHttpRequest","addEventListener","status","JSON","parse","responseText","timeout","open","send","window","DEBOUNCE_INTERVAL","debounce","callback","wait","args","clearTimeout","setTimeout","declOfNum","n","titles","index","declension","root","document","documentElement","range","querySelector","rangeInput","rangeMin","rangeMax","rangeOutputValue","rangeOutputUnit","rangeOutputUnits","rangeInputMax","max","rangeInputMin","min","textContent","fillRange","element","fillPercent","value","style","setProperty","onRangeInputChange","evt","target","DATA_URL","MESSAGE_NO_RESULT","CORE_DECLENSIONS","configuration","configurationForm","configurationGroup","configurationStatus","configurationLoader","messageTemplate","serverCardTemplate","serverCardsFragment","createDocumentFragment","serverCard","message","content","onLoadSuccess","onLoadError","cards","classList","add","removeCards","renderCards","filterCards","statusText","createMessage","text","currentMessage","newMessage","cloneNode","appendChild","removeMessage","parentNode","removeChild","querySelectorAll","forEach","card","newCard","fillCard","calculateCores","count","amount","parseInt","server","coresTotal","cpu","cores","name","ram","disk","type","gpu","price","toFixed","rangeCores","checkboxGpu","checkboxRaid","checkboxSsd","filteredCards","filter","checkCores","checkGpu","checkRaid","checkSsd","length","rangeCoresValue","cardCoresTotal","checked","hasOwnProperty","NodeList","prototype","Array"],"mappings":"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"}